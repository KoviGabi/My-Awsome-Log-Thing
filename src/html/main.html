<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Client</title>
    </head>
    <body onload='openDevTools()'>
        <input id="inputFile" type="file" onchange="encodeFile()" />
        <input id="logType" type="text" onchange="getType()" />
        <input id="logData" type="text" onchange="getData()" />
        <button id="send" onclick="Send()">Send</button>
        <div id="imgTest"></div>
        <script type="module" src="../js/open_file.js"></script>
        <script type="module" src="../js/client_send.js"></script>
        <script>
            function openDevTools(){
                nw.Window.get().showDevTools();
            }            
        </script>
        <script type="text/javascript">
            //var win = nw.Window.get();
            //win.showDevTools();
    
            var menu = new nw.Menu({ type: 'menubar' });
    
            var submenu = new nw.Menu();
            submenu.append(new nw.MenuItem({
                label: 'Exit',
                click: function(){
                    nw.App.quit();
                }
            }));
            menu.append(new nw.MenuItem({
                label: 'Server',
                click: function(){
                    var parentWin = window;
    
                    nw.Window.open('./html/server.html', {}, function(win) {
                        parentWin.localStorage.setItem('child_open', true);
    
                        win.on('closed', function() {
                            parentWin.localStorage.removeItem('child_open');
                        });
                    });
                }
            }));
    
            nw.Window.get().menu = menu;
        </script>
    </body>
</html>
